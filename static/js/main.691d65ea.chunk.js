(window["webpackJsonptime-left"]=window["webpackJsonptime-left"]||[]).push([[0],{11:function(e,t,a){e.exports=a(17)},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(10),r=a.n(s),i=(a(8),a(5)),c=a(2),d=a(3),u=a(6),o=a(4),m=a(7),p=a(1),h=(a(16),function(e){function t(e){var a;Object(c.a)(this,t);var n=(a=Object(u.a)(this,Object(o.a)(t).call(this,e))).props.start_date,l=a.get_def_end_date(n,parseInt(a.props.dur_years));return a.state=a.generate_state(a.props.unit,n,l),console.log(a.state),a.update_start_date=a.update_start_date.bind(Object(p.a)(a)),a.update_end_date=a.update_end_date.bind(Object(p.a)(a)),a.update_duration_unit=a.update_duration_unit.bind(Object(p.a)(a)),a.visualize=a.visualize.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"generate_state",value:function(e,t,a){var n={unit:"weeks",display:!0};return e&&(n.unit=e),n.sdate=t.toISOString(),n.sdate.includes("T")&&(n.sdate=n.sdate.split("T")[0],console.log(n.sdate)),n.edate=a.toISOString(),n.edate.includes("T")&&(n.edate=n.edate.split("T")[0]),n}},{key:"get_def_end_date",value:function(e,t){return new Date(e.getFullYear()+t,e.getMonth(),e.getDate())}},{key:"update_start_date",value:function(e){this.state.sdate=e.target.value,this.forceUpdate()}},{key:"update_end_date",value:function(e){this.state.edate=e.target.value,this.forceUpdate()}},{key:"update_duration_unit",value:function(e){this.state.unit=e.target.value,this.forceUpdate()}},{key:"visualize",value:function(e){this.state.display=!0,this.forceUpdate()}},{key:"render",value:function(){console.log("this.state"),console.log(this.state);var e,t=void 0;return!0===this.state.display&&(e=this.createBlocks(this.state.unit,this.state.sdate,this.state.edate),t=this.createTable(e.x,e.y,e.overflow,e.completed)),l.a.createElement("div",{className:"calender"},l.a.createElement("div",{className:"cal-title"},this.props.title),l.a.createElement("div",{id:"form"},l.a.createElement("div",{className:"date-field"},"Start date: ",l.a.createElement("input",{type:"date",id:"sdate",value:this.state.sdate,onChange:this.update_start_date})),l.a.createElement("div",{className:"date-field"},"End date: ",l.a.createElement("input",{type:"date",id:"edate",value:this.state.edate,onChange:this.update_end_date})),l.a.createElement("div",{className:"duration-field"},l.a.createElement("select",{id:"unit",onChange:this.update_duration_unit,defaultValue:this.state.unit},l.a.createElement("option",{value:"weeks"},"weeks"),l.a.createElement("option",{value:"months"},"months"),l.a.createElement("option",{value:"years"},"years"),l.a.createElement("option",{value:"decades"},"decades"))),l.a.createElement("div",{class:"tl-button"},l.a.createElement("button",{id:"visualize",onClick:this.visualize},"Visualize"))),l.a.createElement("div",{id:"calender"},l.a.createElement("table",{className:"cal-table"},l.a.createElement("tbody",null,t))),l.a.createElement("div",{className:"stats"},l.a.createElement("table",{className:"stats-table"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",{className:"stats-table-cell"},l.a.createElement("i",null,"completed"))," ",l.a.createElement("td",{className:"stats-table-cell"},l.a.createElement("i",null,e.completed,"/",e.total))),l.a.createElement("tr",null,l.a.createElement("td",{className:"stats-table-cell"},l.a.createElement("i",null,"time-left"))," ",l.a.createElement("td",{className:"stats-table-cell"},l.a.createElement("i",null,l.a.createElement("b",null,e.total-e.completed,"/",e.total))))))))}},{key:"createBlocks",value:function(e,t,a){console.log(e);var n=new Date(Date.parse(t)),l=new Date(Date.parse(a)),s=Date.now(),r=l.getTime()-n.getTime(),c=s-n.getTime(),d=6048e5;"months"===e?d=2592e6:"years"===e?d=31536e6:"decades"===e&&(d=31536e7);var u=Math.round(r/d),o=this.closest_rect(u),m=Object(i.a)(o,3),p=m[0],h=m[1],v=m[2],E=Math.round(c/d),_={};return _.x=p,_.y=h,_.overflow=v,_.completed=E,_.total=u,_}},{key:"closest_rect",value:function(e){for(var t=Math.ceil(Math.sqrt(e)),a=Math.abs(e-t*t),n=[t,t],l=0;l<t;){var s=Math.abs(e-(t-l)*(t+l));s<a&&(a=s,n=[t-l,t+l]),l+=1}return n.push(a),n}},{key:"createTable",value:function(e,t,a,n){for(var s=[],r=0,i=0;i<e;i++){for(var c=[],d=0;d<t;d++)r++<n?c.push(l.a.createElement("td",null,"x")):c.push(l.a.createElement("td",null));s.push(l.a.createElement("tr",null,c))}var u=[];for(i=0;i<a;i++)r++<n?u.push(l.a.createElement("td",null,"x")):u.push(l.a.createElement("td",null));return u.length>0&&s.push(l.a.createElement("tr",null,u)),s}}]),t}(l.a.Component)),v=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(o.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=new Date(1995,6,26),t=this.get_start_dates(),a=Object(i.a)(t,2),n=a[0],s=a[1];return l.a.createElement("jsx",null,l.a.createElement("div",{id:"title"},"Visualize and internalize the passing time."),l.a.createElement(h,{start_date:e,dur_years:"80",unit:"years",title:"Full lifetime"}),l.a.createElement(h,{start_date:n,dur_years:"10",unit:"months",title:"This decade"}),l.a.createElement(h,{start_date:s,dur_years:"1",unit:"weeks",title:"This year"}))}},{key:"get_start_dates",value:function(){var e=(new Date).getFullYear();return[new Date(e-e%10,0,2),new Date(e,0,2)]}}]),t}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var E=l.a.createElement,_=document.getElementById("app");r.a.render(E(v),_),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){}},[[11,1,2]]]);
//# sourceMappingURL=main.691d65ea.chunk.js.map